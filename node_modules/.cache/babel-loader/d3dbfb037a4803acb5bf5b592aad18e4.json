{"ast":null,"code":"import { Children, Component, createElement } from 'react';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\n\nvar extendStatics = Object.setPrototypeOf || {\n  __proto__: []\n} instanceof Array && function (d, b) {\n  d.__proto__ = b;\n} || function (d, b) {\n  for (var p in b) {\n    if (b.hasOwnProperty(p)) d[p] = b[p];\n  }\n};\n\nfunction __extends(d, b) {\n  extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar __assign = Object.assign || function __assign(t) {\n  for (var s, i = 1, n = arguments.length; i < n; i++) {\n    s = arguments[i];\n\n    for (var p in s) {\n      if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n  }\n\n  return t;\n};\n\nvar isEmptyChildren = function isEmptyChildren(children) {\n  return Children.count(children) === 0;\n};\n\nfunction throttle(func, wait) {\n  var timeout = null;\n  var callbackArgs = null;\n  var context = this;\n\n  var later = function later() {\n    func.apply(context, callbackArgs);\n    timeout = null;\n  };\n\n  return function () {\n    if (!timeout) {\n      callbackArgs = arguments;\n      timeout = setTimeout(later, wait);\n    }\n  };\n}\n\nvar supportsPassiveListener = false;\n\nvar noop = function noop() {};\n\ntry {\n  var opts = Object.defineProperty({}, 'passive', {\n    get: function get() {\n      supportsPassiveListener = true;\n    }\n  });\n  window.addEventListener('testPassive', noop, opts);\n  window.removeEventListener('testPassive', noop, opts);\n} catch (e) {}\n\nvar Scroll = function (_super) {\n  __extends(Scroll, _super);\n\n  function Scroll() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      x: 0,\n      y: 0\n    };\n    _this.handleWindowScroll = throttle(function () {\n      _this.setState({\n        x: window.scrollX,\n        y: window.scrollY\n      });\n    }, _this.props.throttle);\n    return _this;\n  }\n\n  Scroll.prototype.componentDidMount = function () {\n    this.handleWindowScroll();\n    window.addEventListener('scroll', this.handleWindowScroll, supportsPassiveListener ? {\n      passive: true\n    } : false);\n  };\n\n  Scroll.prototype.componentWillUnmount = function () {\n    window.removeEventListener('scroll', this.handleWindowScroll);\n  };\n\n  Scroll.prototype.render = function () {\n    var _a = this.props,\n        render = _a.render,\n        component = _a.component,\n        children = _a.children;\n    return component ? createElement(component, this.state) : render ? render(this.state) : children ? typeof children === 'function' ? children(this.state) : !isEmptyChildren(children) ? Children.only(children) : null : null;\n  };\n\n  Scroll.defaultProps = {\n    throttle: 100\n  };\n  return Scroll;\n}(Component);\n\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = getPrototypeOf && getPrototypeOf(Object);\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\n\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!REACT_STATICS[key] && !KNOWN_STATICS[key] && (!blacklist || !blacklist[key])) {\n        if (propIsEnumerable.call(sourceComponent, key) || typeof sourceComponent[key] === 'function') {\n          try {\n            targetComponent[key] = sourceComponent[key];\n          } catch (e) {}\n        }\n      }\n    }\n\n    return targetComponent;\n  }\n\n  return targetComponent;\n}\n\nfunction withScroll(Component$$1) {\n  var S = function S(props) {\n    return createElement(Scroll, {\n      render: function render(p) {\n        return createElement(Component$$1, __assign({}, props, p));\n      }\n    });\n  };\n\n  return hoistNonReactStatics(S, Component$$1);\n}\n\nvar DeviceMotion = function (_super) {\n  __extends(DeviceMotion, _super);\n\n  function DeviceMotion() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      acceleration: {\n        x: null,\n        y: null,\n        z: null\n      },\n      accelerationIncludingGravity: {\n        x: null,\n        y: null,\n        z: null\n      },\n      rotationRate: {\n        alpha: null,\n        beta: null,\n        gamma: null\n      },\n      interval: 0\n    };\n\n    _this.handleDeviceMotion = function (e) {\n      _this.setState({\n        acceleration: e.acceleration,\n        accelerationIncludingGravity: e.accelerationIncludingGravity,\n        rotationRate: e.rotationRate,\n        interval: e.interval\n      });\n    };\n\n    return _this;\n  }\n\n  DeviceMotion.prototype.componentDidMount = function () {\n    window.addEventListener('devicemotion', this.handleDeviceMotion, true);\n  };\n\n  DeviceMotion.prototype.componentWillUnmount = function () {\n    window.removeEventListener('devicemotion', this.handleDeviceMotion);\n  };\n\n  DeviceMotion.prototype.render = function () {\n    var _a = this.props,\n        render = _a.render,\n        component = _a.component,\n        children = _a.children;\n    return component ? createElement(component, this.state) : render ? render(this.state) : children ? typeof children === 'function' ? children(this.state) : !isEmptyChildren(children) ? Children.only(children) : null : null;\n  };\n\n  return DeviceMotion;\n}(Component);\n\nfunction withDeviceMotion(Component$$1) {\n  var S = function S(props) {\n    return createElement(DeviceMotion, {\n      render: function render(p) {\n        return createElement(Component$$1, __assign({}, props, p));\n      }\n    });\n  };\n\n  return hoistNonReactStatics(S, Component$$1);\n}\n\nvar DeviceOrientation = function (_super) {\n  __extends(DeviceOrientation, _super);\n\n  function DeviceOrientation() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      alpha: null,\n      beta: null,\n      gamma: null,\n      absolute: false\n    };\n\n    _this.handleDeviceOrientation = function (e) {\n      _this.setState({\n        beta: e.beta,\n        alpha: e.alpha,\n        gamma: e.gamma,\n        absolute: e.absolute\n      });\n    };\n\n    return _this;\n  }\n\n  DeviceOrientation.prototype.componentDidMount = function () {\n    window.addEventListener('deviceorientation', this.handleDeviceOrientation, true);\n  };\n\n  DeviceOrientation.prototype.componentWillUnmount = function () {\n    window.removeEventListener('deviceorientation', this.handleDeviceOrientation);\n  };\n\n  DeviceOrientation.prototype.render = function () {\n    var _a = this.props,\n        render = _a.render,\n        component = _a.component,\n        children = _a.children;\n    return component ? createElement(component, this.state) : render ? render(this.state) : children ? typeof children === 'function' ? children(this.state) : !isEmptyChildren(children) ? Children.only(children) : null : null;\n  };\n\n  return DeviceOrientation;\n}(Component);\n\nfunction withDeviceOrientation(Component$$1) {\n  var S = function S(props) {\n    return createElement(DeviceOrientation, {\n      render: function render(p) {\n        return createElement(Component$$1, __assign({}, props, p));\n      }\n    });\n  };\n\n  return hoistNonReactStatics(S, Component$$1);\n}\n\nvar Network = function (_super) {\n  __extends(Network, _super);\n\n  function Network() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      online: navigator.onLine\n    };\n\n    _this.handleOnline = function () {\n      _this.setState({\n        online: true,\n        offlineAt: undefined\n      });\n    };\n\n    _this.handleOffline = function () {\n      _this.setState({\n        online: false,\n        offlineAt: new Date()\n      });\n    };\n\n    return _this;\n  }\n\n  Network.prototype.componentDidMount = function () {\n    if (typeof window !== 'undefined' && navigator) {\n      this.setState({\n        online: navigator.onLine\n      });\n    }\n\n    window.addEventListener('online', this.handleOnline);\n    window.addEventListener('offline', this.handleOffline);\n  };\n\n  Network.prototype.componentWillUnmount = function () {\n    window.removeEventListener('online', this.handleOnline);\n    window.removeEventListener('offline', this.handleOffline);\n  };\n\n  Network.prototype.render = function () {\n    var _a = this.props,\n        render = _a.render,\n        component = _a.component,\n        children = _a.children;\n    return component ? createElement(component, this.state) : render ? render(this.state) : children ? typeof children === 'function' ? children(this.state) : !isEmptyChildren(children) ? Children.only(children) : null : null;\n  };\n\n  return Network;\n}(Component);\n\nfunction withNetwork(Component$$1) {\n  var S = function S(props) {\n    return createElement(Network, {\n      render: function render(p) {\n        return createElement(Component$$1, __assign({}, props, p));\n      }\n    });\n  };\n\n  return hoistNonReactStatics(S, Component$$1);\n}\n\nvar GeoPosition = function (_super) {\n  __extends(GeoPosition, _super);\n\n  function GeoPosition() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      isLoading: true\n    };\n\n    _this.requestGeo = function () {\n      _this.setState({\n        isLoading: true\n      });\n\n      _this.geoId = navigator.geolocation.watchPosition(function (position) {\n        return _this.setState({\n          isLoading: false,\n          coords: {\n            latitude: position.coords.latitude,\n            longitude: position.coords.longitude\n          },\n          error: undefined\n        });\n      }, function (error) {\n        return _this.setState({\n          error: error,\n          isLoading: false\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  GeoPosition.prototype.componentDidMount = function () {\n    this.requestGeo();\n  };\n\n  GeoPosition.prototype.componentWillUnmount = function () {\n    navigator.geolocation.clearWatch(this.geoId);\n  };\n\n  GeoPosition.prototype.render = function () {\n    var _a = this.props,\n        render = _a.render,\n        component = _a.component,\n        children = _a.children;\n    return component ? createElement(component, this.state) : render ? render(this.state) : children ? typeof children === 'function' ? children(this.state) : !isEmptyChildren(children) ? Children.only(children) : null : null;\n  };\n\n  return GeoPosition;\n}(Component);\n\nfunction withGeoPosition(Component$$1) {\n  var S = function S(props) {\n    return createElement(GeoPosition, {\n      render: function render(p) {\n        return createElement(Component$$1, __assign({}, props, p));\n      }\n    });\n  };\n\n  return hoistNonReactStatics(S, Component$$1);\n}\n\nvar M = require('react-media');\n\nvar Media = M;\n\nvar WindowSize = function (_super) {\n  __extends(WindowSize, _super);\n\n  function WindowSize() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      width: 0,\n      height: 0\n    };\n    _this.handleWindowSize = throttle(function () {\n      _this.setState({\n        width: window.innerWidth,\n        height: window.innerHeight\n      });\n    }, _this.props.throttle);\n    return _this;\n  }\n\n  WindowSize.prototype.componentDidMount = function () {\n    this.handleWindowSize();\n    window.addEventListener('resize', this.handleWindowSize);\n  };\n\n  WindowSize.prototype.componentWillUnmount = function () {\n    window.removeEventListener('resize', this.handleWindowSize);\n  };\n\n  WindowSize.prototype.render = function () {\n    var _a = this.props,\n        render = _a.render,\n        component = _a.component,\n        children = _a.children;\n    return component ? createElement(component, this.state) : render ? render(this.state) : children ? typeof children === 'function' ? children(this.state) : !isEmptyChildren(children) ? Children.only(children) : null : null;\n  };\n\n  WindowSize.defaultProps = {\n    throttle: 100\n  };\n  return WindowSize;\n}(Component);\n\nfunction withWindowSize(Component$$1) {\n  var S = function S(props) {\n    return createElement(WindowSize, {\n      render: function render(p) {\n        return createElement(Component$$1, __assign({}, props, p));\n      }\n    });\n  };\n\n  return hoistNonReactStatics(S, Component$$1);\n}\n\nvar Locales = function (_super) {\n  __extends(Locales, _super);\n\n  function Locales() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      locale: _this.preferredLocales()\n    };\n\n    _this.handleLanguageChange = function () {\n      _this.setState({\n        locale: _this.preferredLocales()\n      });\n    };\n\n    return _this;\n  }\n\n  Locales.prototype.preferredLocales = function () {\n    if (navigator.languages && navigator.languages.length > 0) {\n      return Intl.getCanonicalLocales(navigator.languages)[0];\n    }\n\n    return Intl.getCanonicalLocales([navigator.language])[0];\n  };\n\n  Locales.prototype.componentDidMount = function () {\n    window.addEventListener('languagechange', this.handleLanguageChange);\n  };\n\n  Locales.prototype.componentWillUnmount = function () {\n    window.removeEventListener('languagechange', this.handleLanguageChange);\n  };\n\n  Locales.prototype.render = function () {\n    var _a = this.props,\n        render = _a.render,\n        component = _a.component,\n        children = _a.children;\n    return component ? createElement(component, this.state) : render ? render(this.state) : children ? typeof children === 'function' ? children(this.state) : !isEmptyChildren(children) ? Children.only(children) : null : null;\n  };\n\n  return Locales;\n}(Component);\n\nfunction withLocales(Component$$1) {\n  var S = function S(props) {\n    return createElement(Locales, {\n      render: function render(p) {\n        return createElement(Component$$1, __assign({}, props, p));\n      }\n    });\n  };\n\n  return hoistNonReactStatics(S, Component$$1);\n}\n\nexport { Scroll, withScroll, DeviceMotion, withDeviceMotion, DeviceOrientation, withDeviceOrientation, Network, withNetwork, GeoPosition, withGeoPosition, Media, WindowSize, withWindowSize, Locales, withLocales };","map":null,"metadata":{},"sourceType":"module"}